---
import "normalize.css";
import NavBar from "../components/NavBar.astro";

export interface Props {
    title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="icon" href="https://github.com/Vendicated.png?size=256" />
        <meta name="generator" content={Astro.generator} />

        <title>{title}</title>
        <meta name="description" content="Ven's website" />
        <meta name="author" content="Vendicated" />
        <meta name="theme-color" content="#dd7878" />

        <meta name="og:type" content="website" />
        <meta name="og:title" content="Ven's Website" />
        <meta name="og:description" content="<:trolley:1024751352028602449> " />
        <meta name="og:url" content="https://vendicated.dev" />
        <meta name="og:image" content="https://github.com/Vendicated.png" />

        <meta name="twitter:card" content="summary" />
        <meta name="twitter:description" content="read if cute" />
        <meta name="twitter:title" content="Ven's Website" />
    </head>
    <body>
        <header>
            <NavBar />
        </header>

        <slot />
    </body>
</html>

<style is:global>
    /* Theme: https://github.com/catppuccin/catppuccin */
    body {
        --background-color: white;
        --surface: #f6f6f6;
        --color: black;
        --warning: #df8e1d;
        --accent: #dd7878;

        background-color: var(--background-color);
        color: var(--color);

        width: 100vw;
        min-height: 100vh;
    }

    body.dark {
        --background-color: #303446;
        --surface: #292c3c;
        --color: #c6d0f5;
        --warning: #e5c890;
        --accent: #eebebe;
    }

    html {
        font-family: Inter, system-ui, sans-serif;
        background-color: #f6f6f6;
    }
    code {
        font-family: Menlo, Monaco, Lucida Console, Liberation Mono,
            DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;
    }

    @font-face {
        font-family: "Inter";
        src: url("/fonts/Inter.var-subset.woff2") format("woff2");
        font-weight: 100 900;
        font-display: swap;
        font-style: normal;
        font-named-instance: "Regular";
    }

    .non-bold {
        font-weight: 400;
    }

    /* used to change theme without performing color transitions */
    .disable-transitions * {
        transition: none !important;
    }
</style>

<script>
    import { changeTheme } from "../util";

    // @ts-expect-error how is this still not a standard
    window.setImmediate ??= (cb: Function) => setTimeout(cb, 0);

    let currentTheme = localStorage.getItem("theme");
    if (!currentTheme) {
        currentTheme = window.matchMedia("(prefers-color-scheme: dark)").matches
            ? "dark"
            : "light";
        localStorage.setItem("theme", currentTheme);
    }

    if (currentTheme === "dark") changeTheme(true);

    // meow
    console.log(
        "%c read if cute!!!",
        "font-size: 50px; color:" +
            getComputedStyle(document.body).getPropertyValue("--accent")
    );
</script>
